<p>首先声明本代码修改于该文章，只是稍微增加一些其它功能：<a href="http://t.csdn.cn/zvvh9">http://t.csdn.cn/zvvh9</a></p>
<p>我们需要下载一个插件，名字叫做EasyX.</p>
<p>如图：<img src="https://img-blog.csdnimg.cn/c0bcc81cd0734dc39481ead906345802.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 点进去，然后点击下载</p>
<p><img src="https://img-blog.csdnimg.cn/c3d281b8bdab4f99b5e723ff59efb0ca.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p>随后安装，之后打开</p>
<p><img src="https://img-blog.csdnimg.cn/93bf7bfc3a7d402480cd91c7565fdb72.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 点击下一步，</p>
<p><img src="https://img-blog.csdnimg.cn/171a238eac4b4014bcc0d4531db2e9bb.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 之后点安装就行了，最好第一个和第二个都安装起</p>
<p>之后打开visual stduio 2022,新建项目。</p>
<p>之后点开项目，点击属性如图：</p>
<p><img src="https://img-blog.csdnimg.cn/73c8ce30cf1544fca7e837edb42ef841.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 然后将SDL检查改为否，并且将字符集改为使用多字节字符集：</p>
<p><img src="https://img-blog.csdnimg.cn/c2b73fd4aa57414b94b3260a639a2810.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p><img src="https://img-blog.csdnimg.cn/e2f2743aee0f46ef94dd34d2df54ce86.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 随后创建一个game.h的头文件，game.cpp的源文件，再创建一个main.cpp的源文件.如图：</p>
<p><img src="https://img-blog.csdnimg.cn/290b63704dc44c9d874720ac649686fd.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 其中,game.h文件下的代码为：</p>
<pre><code class="cpp">#include&lt;stdio.h&gt;
#include&lt;conio.h&gt;
#include&lt;graphics.h&gt;
#include&lt;stdlib.h&gt;		
#include&lt;time.h&gt;
#define SNAKE_SIZE 360



int Initgame(int a);
void Drawgame(int a);
void KeyControl(int a);
void snakemove(int a);
void Eatfood();
</code></pre>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>game.cpp文件的代码为：</p>
<pre><code class="cpp">#include&quot;game.h&quot;
enum DIRECTOR
{
    UP,
    DOWN,
    LEFT,
    RIGHT,
};
struct Snake1
{
    int size;
    int director;
    int speed;
    int r;
    int score;
    POINT section[SNAKE_SIZE];
}snake1;
struct Snake2
{
    int size;
    int director;
    int speed;
    int r;
    int score;
    POINT section[SNAKE_SIZE];
}snake2;
struct Food
{
    int x;
    int y;
    int r;
    bool flag;
    DWORD color;
}food;
int Initgame(int a)
{
    initgraph(1500, 600);
    settextstyle(40, 40, &quot;黑体&quot;);
    srand((unsigned int)time(NULL));
    if (a == 1)
    {
        snake1.speed = 10;
        snake1.r = 5;
        food.r = rand() % 10 + 5;
    }
    else if (a == 2)
    {
        snake1.speed = 20;
        snake1.r = 10;
        food.r = rand() % 10 + 10;
    }
    else if (a == 3)
    {
        snake1.speed = 30;
        snake1.r = 15;
        food.r = rand() % 10 + 15;
    }
    else if (a == 4)
    {
        snake1.r = 10;
        snake1.speed = 20;
        snake2.r = 10;
        snake2.speed = 20;
        snake2.size = 3;
        snake2.director = LEFT;
        snake1.director = RIGHT;
        food.r = rand() % 10 + 10;
        for (int i = 0; i &lt;= snake2.size - 1; i++)
        {
            snake2.section[i].x = 10 * ((snake2.size - 1) - i) + 500;
            snake2.section[i].y = 20;
        }
    }
    else
    {
        printf(&quot;输入错误，请重新开始游戏&quot;);
        closegraph();
    }
    snake1.size = 3;
    snake1.director = RIGHT;
    for (int i = 0; i &lt;= snake1.size - 1; i++)
    {
        snake1.section[i].x = 10 * ((snake1.size - 1) - i) + 50;
        snake1.section[i].y = 20;
    }
    food.x = rand() % 600;
    food.y = rand() % 600;
    food.color = GREEN;
    food.flag = true;
    snake1.score = 0;
    snake2.score = 0;
    return 1;
}
void Drawgame(int a)
{
    char num[100]; char mun[100];
    int n = snake1.score; int m = snake2.score;
    BeginBatchDraw();//双缓冲
    setbkcolor(BLACK);
    cleardevice();
    if (a == 4)
    {
        setfillcolor(RGB(255,99,71));
        for (int i = 0; i &lt; snake2.size; i++)
        {
            solidcircle(snake2.section[i].x, snake2.section[i].y, snake2.r);
        }
        settextcolor(RGB(255, 99, 71));
        settextstyle(40, 40, &quot;黑体&quot;);
        sprintf(mun, &quot;%d&quot;, m);
        outtextxy(1000, 400, mun);
    }
    setfillcolor(WHITE);
    for (int i = 0; i &lt; snake1.size; i++)
    {
        solidcircle(snake1.section[i].x, snake1.section[i].y, snake1.r);
    }
    setfillcolor(GREEN);
    if (food.flag)
    {
        solidcircle(food.x, food.y, food.r);
    }
    for (int i = 0; i &lt; 30; i++)
    {
        settextcolor(BLUE);
        settextstyle(20, 20, &quot;黑体&quot;);
        outtextxy(982, i * 20, &quot;|&quot;);
    }
    settextcolor(WHITE);
    settextstyle(40, 40, &quot;黑体&quot;);
    outtextxy(1000, 200, &quot;得分:&quot;);
    sprintf(num, &quot;%d&quot;, n);
    outtextxy(1000, 300, num);
    EndBatchDraw();
}
void snakemove(int a)
{
    if (a == 4)
    {
        for (int i = snake2.size - 1; i &gt; 0; i--)
        {
            snake2.section[i] = snake2.section[i - 1];
        }
        switch (snake2.director)
        {
        case RIGHT:
            snake2.section[0].x += snake2.speed;
            if (snake2.section[0].x + snake2.r &gt;= 1000)
            {
            k:
                settextcolor(RED);
                settextstyle(40, 40, &quot;黑体&quot;);
                outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
                goto k;
            }
            break;
        case LEFT:
            snake2.section[0].x -= snake2.speed;
            if (snake2.section[0].x - snake2.r &lt;= 0)
            {
            m:
                settextcolor(RED);
                settextstyle(40, 40, &quot;黑体&quot;);
                outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
                goto m;
            }
            break;
        case UP:
            snake2.section[0].y -= snake2.speed;
            if (snake2.section[0].y - snake2.r &lt;= 0)
            {
            s:
                settextcolor(RED);
                settextstyle(40, 40, &quot;黑体&quot;);
                outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
                goto s;
            }
            break;
        case DOWN:
            snake2.section[0].y += snake2.speed;
            if (snake2.section[0].y - snake2.r &gt;= 600)
            {
            g:
                cleardevice;
                settextcolor(RED);
                settextstyle(40, 40, &quot;黑体&quot;);
                outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
                goto g;
            }
            break;
        default:
            break;
        }
    }
    for (int i = snake1.size - 1; i &gt; 0; i--)
    {
        snake1.section[i] = snake1.section[i - 1];
    }
    switch (snake1.director)
    {
    case RIGHT:
        snake1.section[0].x += snake1.speed;
        if (snake1.section[0].x + snake1.r &gt;= 1000)
        {
        K:
            settextcolor(RED);
            settextstyle(40, 40, &quot;黑体&quot;);
            outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
            goto K;
        }
        break;
    case LEFT:
        snake1.section[0].x -= snake1.speed;
        if (snake1.section[0].x - snake1.r &lt;= 0)
        {
        P:
            settextcolor(RED);
            settextstyle(40, 40, &quot;黑体&quot;);
            outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
            goto P;
        }
        break;
    case UP:
        snake1.section[0].y -= snake1.speed;
        if (snake1.section[0].y - snake1.r &lt;= 0)
        {
        G:
            settextcolor(RED);
            settextstyle(40, 40, &quot;黑体&quot;);
            outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
            goto G;
        }
        break;
    case DOWN:
        snake1.section[0].y += snake1.speed;
        if (snake1.section[0].y - snake1.r &gt;= 600)
        {
        F:
            cleardevice;
            settextcolor(RED);
            settextstyle(40, 40, &quot;黑体&quot;);
            outtextxy(100, 200, &quot;你失败了,游戏结束&quot;);
            goto F;
        }
        break;
    default:

        break;
    }

}
void KeyControl(int a)
{
    if (_kbhit())
    {
        switch (_getch())
        {
        case &#39;I&#39;:
            if (snake2.director != DOWN)
            {
                snake2.director = UP;
            }
            break;
        case &#39;K&#39;:
            if (snake2.director != UP)
            {
                snake2.director = DOWN;
            }
            break;
        case &#39;J&#39;:
            if (snake2.director != RIGHT)
            {
                snake2.director = LEFT;
            }
            break;
        case &#39;L&#39;:
            if (snake2.director != LEFT)
            {
                snake2.director = RIGHT;
            }
            break;
        case &#39;W&#39;:
            if (snake1.director != DOWN)
            {
                snake1.director = UP;
            }
            break;
        case &#39;S&#39;:
            if (snake1.director != UP)
            {
                snake1.director = DOWN;
            }
            break;
        case &#39;A&#39;:
            if (snake1.director != RIGHT)
            {
                snake1.director = LEFT;
            }
            break;
        case &#39;D&#39;:
            if (snake1.director != LEFT)
            {
                snake1.director = RIGHT;
            }
            break;
        case &#39; &#39;:
            while (1)
            {
                if (_getch() == &#39; &#39;);
                return;
            }
            break;
        }
    }

    /*if (_kbhit())
    {
        switch (_getch())
        {
        case &#39;w&#39;:
        case &#39;W&#39;:
        case 72:
            if (snake1.director != DOWN)
            {
                snake1.director = UP;
            }
            break;
        case &#39;s&#39;:
        case &#39;S&#39;:
        case 80:
            if (snake1.director != UP)
            {
                snake1.director = DOWN;
            }
            break;
        case &#39;a&#39;:
        case &#39;A&#39;:
        case 75:
            if (snake1.director != RIGHT)
            {
                snake1.director = LEFT;
            }
            break;
        case &#39;d&#39;:
        case &#39;D&#39;:
        case 77:
            if (snake1.director != LEFT)
            {
                snake1.director = RIGHT;
            }
            break;
        case &#39; &#39;:
            while (1)
            {
                if (_getch() == &#39; &#39;);
                return;
            }
            break;
        }
    }*/
}
void Eatfood()
{
    int d = snake1.r;
    if (snake1.section[0].x - snake1.r - 1 &gt;= food.x - food.r &amp;&amp; snake1.section[0].x - snake1.r - 1 &lt;= food.x + food.r &amp;&amp; snake1.section[0].y - snake1.r - 1 &lt;= food.y + food.r &amp;&amp; snake1.section[0].y + snake1.r - 1 &gt;= food.y - food.r)
    {
        snake1.size++;
        food.flag = false;
        snake1.score++;
    }
    if (snake2.section[0].x - snake2.r - 1 &gt;= food.x - food.r &amp;&amp; snake2.section[0].x - snake2.r - 1 &lt;= food.x + food.r &amp;&amp; snake2.section[0].y - snake2.r - 1 &lt;= food.y + food.r &amp;&amp; snake2.section[0].y + snake2.r - 1 &gt;= food.y - food.r)
    {
        snake2.size++;
        food.flag = false;
        snake2.score++;
    }
    if (!food.flag)
    {
        food.x = rand() % 800;
        food.y = rand() % 570 + snake1.r;
        food.color = GREEN;
        food.r = rand() % 10 + d;
        food.flag = true;
    }
}
</code></pre>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>main.cpp文件的代码为：</p>
<pre><code class="cpp">#include&quot;game.h&quot;
int main()
{
    int a;
    printf(&quot;请输入你想挑战的难度:\n&quot;);
    printf(&quot;1.简单\n&quot;);
    printf(&quot;2.普通\n&quot;);
    printf(&quot;3.困难\n&quot;);
    printf(&quot;4.双人模式\n&quot;);
    scanf_s(&quot;%d&quot;, &amp;a);
    int c=Initgame(a); 
    while (c)
    {
        Drawgame(a);
        KeyControl(a);
        snakemove(a);
        Eatfood();
        Sleep(80);
    }
    return 0;
}
</code></pre>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>这样，就可以运行起了</p>
<p>简单模式下：</p>
<p><img src="https://img-blog.csdnimg.cn/c95040d0c6364617be72b6239fc58e9f.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 普通模式下：<img src="https://img-blog.csdnimg.cn/7f89df90add44c68a87a78aa80600b18.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p>困难模式下：</p>
<p><img src="https://img-blog.csdnimg.cn/9e889e8e0c2f4103a4f45127b8f64e15.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑 双人模式下：</p>
<p><img src="https://img-blog.csdnimg.cn/80fbb63227f04dc6ba76f11bb60afdd0.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<p> 注意：开始时需要将字母改为大写，其中白色的蛇的控制上下左右的按键为WSAD，空格为暂停。</p>
<p>控制另一条蛇的按键为IKJL，空格为暂停.</p>
<p>不同模式下蛇的大小和蛇行进速度不一样。</p>
<p>欢迎大家修改代码，让其变得更加有趣。</p>
